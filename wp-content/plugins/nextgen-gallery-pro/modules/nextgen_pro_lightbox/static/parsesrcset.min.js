function parseSrcset(e){function r(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function n(r){var n,t=r.exec(e.substring(g));if(t)return n=t[0],g+=n.length,n}for(var t,i,s,o,f,c=e.length,u=/^[ \t\n\r\u000c]+/,l=/^[, \t\n\r\u000c]+/,p=/^[^ \t\n\r\u000c]+/,d=/[,]+$/,a=/^\d+$/,h=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,g=0,v=[];;){if(n(l),g>=c)return v;t=n(p),i=[],","===t.slice(-1)?(t=t.replace(d,""),$()):w()}function w(){for(n(u),s="",o="in descriptor";;){if(f=e.charAt(g),"in descriptor"===o)if(r(f))s&&(i.push(s),s="",o="after descriptor");else{if(","===f)return g+=1,s&&i.push(s),void $();if("("===f)s+=f,o="in parens";else{if(""===f)return s&&i.push(s),void $();s+=f}}else if("in parens"===o)if(")"===f)s+=f,o="in descriptor";else{if(""===f)return i.push(s),void $();s+=f}else if("after descriptor"===o)if(r(f));else{if(""===f)return void $();o="in descriptor",g-=1}g+=1}}function $(){var r,n,s,o,f,c,u,l,p,d=!1,g={};for(o=0;o<i.length;o++)c=(f=i[o])[f.length-1],u=f.substring(0,f.length-1),l=parseInt(u,10),p=parseFloat(u),a.test(u)&&"w"===c?((r||n)&&(d=!0),0===l?d=!0:r=l):h.test(u)&&"x"===c?((r||n||s)&&(d=!0),p<0?d=!0:n=p):a.test(u)&&"h"===c?((s||n)&&(d=!0),0===l?d=!0:s=l):d=!0;d?window&&window.console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+f+"'."):(g.url=t,r&&(g.w=r),n&&(g.d=n),s&&(g.h=s),v.push(g))}}