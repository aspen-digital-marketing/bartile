document.addEventListener("DOMContentLoaded",(function(){var e=document.createElement("div");e.setAttribute("id","nextgen-pro-paypal-checkout-overlay");var t=document.createElement("i");t.classList.add("fa"),t.classList.add("fa-spin"),t.classList.add("fa-spinner"),t.setAttribute("id","nextgen-pro-paypal-checkout-overlay-icon"),e.appendChild(t);var n=paypal.Buttons({style:{size:"small",height:42,layout:"horizontal",color:"black",shape:"rect",tagline:!1},createOrder:function(e,t){return fetch(photocrati_ajax.url+"&action=paypal_checkout_create_order",{method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},body:jQuery("#ngg_pro_checkout").serialize()}).then((function(e){return e.json()})).then((function(e){if(!e.error)return e.paypal_order_id;setTimeout((function(){alert(e.error)}),500)})).catch((function(e){alert(e)}))},onApprove:function(t,n){return document.body.appendChild(e),fetch(photocrati_ajax.url+"&action=paypal_checkout_finalize",{method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},body:"order_id="+encodeURIComponent(t.orderID)}).then((function(e){return e.json()})).then((function(t){if(e.parentNode.removeChild(e),t.error)return Ngg_Pro_Cart.get_instance().empty_cart(),void alert(t.error);window.location=t.confirmation_url})).catch((function(e){Ngg_Pro_Cart.get_instance().empty_cart(),alert(e)}))}});n.render("#paypal-button-container");var o=document.getElementById("paypal-button-container"),r=document.getElementById("ngg-pro-paypal-checkout-dummy");o.addEventListener("mouseover",(function(){r.classList.add("ngg_force_hover")})),o.addEventListener("mouseleave",(function(){r.classList.remove("ngg_force_hover")})),Ngg_Pro_Cart.get_instance().on("disable_checkout_buttons",(function(e){e?(n.show(),o.classList.remove("disabled")):(n.hide(),o.classList.add("disabled"))}))}));